appId: net.mullvad.vpn
copyright: Amagicom AB
productName: MullvadNeue

asar: true

directories:
  buildResources: build-assets/
  output: dist/

files:
  - package.json
  - init.js
  - build/
  - node_modules/

dmg:
  contents:
    - type: link
      path: /Applications
      x: 410
      y: 150
    - type: file
      x: 130
      y: 150

mac:
  target:
    - dmg
  category: public.app-category.tools
  extendInfo:
    LSUIElement: true
  extraResources:
    - from: ../talpid_core/target/release/mullvad_daemon
      to: mullvad_daemon
    - from: ../talpid_core/target/release/libtalpid_openvpn_plugin.dylib
      to: libtalpid_openvpn_plugin.dylib

win:
  target:
    - nsis
  extraResources:
    - from: ../talpid_core/target/release/mullvad_daemon.exe
      to: mullvad_daemon.exe
    - from: ../talpid_core/target/release/libtalpid_openvpn_plugin.dll
      to: libtalpid_openvpn_plugin.dll

linux:
  target:
    - deb
    - AppImage
  extraResources:
    - from: ../talpid_core/target/release/mullvad_daemon
      to: mullvad_daemon
    - from: ../talpid_core/target/release/libtalpid_openvpn_plugin.so
      to: libtalpid_openvpn_plugin.so
